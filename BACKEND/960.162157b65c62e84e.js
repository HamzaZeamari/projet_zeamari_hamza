"use strict";(self.webpackChunkFRONTEND=self.webpackChunkFRONTEND||[]).push([[960],{4960:(F,T,n)=>{n.r(T),n.d(T,{ProduitModule:()=>j});var p=n(9808),A=n(727),d=n(2733),t=n(7587),_=n(7579),C=n(520);let Z=(()=>{class i{constructor(e){this.requete=e}getSubProduits(){return null==this.subProduits&&(this.subProduits=new _.x,this.requete.get("/api/produits").subscribe(e=>{this.listeProduitsComplet=e,this.listProduits=e,null!=this.listProduits&&this.subProduits.next(this.listProduits.slice())})),this.subProduits}getProduits(){return null==this.subProduits&&(this.subProduits=new _.x,this.requete.get("/api/produits").subscribe(e=>{this.listProduits=e,this.listeProduitsComplet=e,null!=this.listProduits&&this.subProduits.next(this.listProduits.slice())})),this.listProduits}activerFiltre(e){if(null!=this.listProduits&&(this.listProduits=this.listeProduitsComplet.slice()),"aucun"!==e.categorie&&(this.listProduits=this.listProduits.filter(r=>r.categorie===e.categorie)),"aucun"!=e.filtre)switch(e.filtre){case"croissant":this.listProduits=this.listProduits.sort((r,s)=>r.prix-s.prix);break;case"decroissant":this.listProduits=this.listProduits.sort((r,s)=>s.prix-r.prix)}null!=this.listProduits&&this.subProduits.next(this.listProduits.slice())}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(C.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var a=n(6708),l=n(3075);let v=(()=>{class i{constructor(e){this.catalogueService=e}ngOnInit(){this.categorie="aucun",this.filtre="aucun"}recherche(){this.catalogueService.activerFiltre({categorie:this.categorie,filtre:this.filtre})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-recherche"]],decls:26,vars:2,consts:[["for","categorie"],["id","categorie","name","categorie",3,"ngModel","ngModelChange"],["value","aucun"],["value","Reebok"],["value","Nike"],["value","Vans"],["value","Adidas"],[1,"p-2","bd-highlight"],["for","filtre"],["id","filtre","name","filtre",3,"ngModel","ngModelChange"],["value","croissant"],["value","decroissant"],[1,"btn","btn-primary","ms-auto","p-2","bd-highlight",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"label",0),t._uU(2,"Categorie : "),t.qZA(),t.TgZ(3,"select",1),t.NdJ("ngModelChange",function(u){return r.categorie=u}),t.TgZ(4,"option",2),t._uU(5,"Aucun Filtre"),t.qZA(),t.TgZ(6,"option",3),t._uU(7,"Reebok"),t.qZA(),t.TgZ(8,"option",4),t._uU(9,"Nike"),t.qZA(),t.TgZ(10,"option",5),t._uU(11,"Vans"),t.qZA(),t.TgZ(12,"option",6),t._uU(13,"Adidas"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",7),t.TgZ(15,"label",8),t._uU(16,"Trier :"),t.qZA(),t.TgZ(17,"select",9),t.NdJ("ngModelChange",function(u){return r.filtre=u}),t.TgZ(18,"option",2),t._uU(19,"Aucun"),t.qZA(),t.TgZ(20,"option",10),t._uU(21," Prix : Ordre croissant"),t.qZA(),t.TgZ(22,"option",11),t._uU(23," Prix : Ordre d\xe9croissant"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"button",12),t.NdJ("click",function(){return r.recherche()}),t._uU(25,"Rechercher avec Filtre"),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",r.categorie),t.xp6(14),t.Q6J("ngModel",r.filtre))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr],styles:[""]}),i})();var m=n(3560);const P=function(i){return["/produits/produit",i]};function q(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th",2),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"strong"),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"td"),t.TgZ(13,"button"),t.TgZ(14,"a",3),t._uU(15,"Voir article"),t.qZA(),t.qZA(),t.TgZ(16,"button",4),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().ajouter(u)}),t._uU(17,"Ajouter au panier"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(e.categorie),t.xp6(2),t.Oqu(e.stock),t.xp6(3),t.hij("",e.prix," \u20ac"),t.xp6(3),t.Q6J("routerLink",t.VKq(6,P,e.id))}}let x=(()=>{class i{constructor(e,r){this.catalogueService=e,this.store=r,this.produits=new Array,this.ajouts=new A.w0}ngOnInit(){console.log(this.catalogueService.getProduits()),console.log(this.catalogueService.getSubProduits()),this.produits=this.catalogueService.getProduits(),this.ajouts=this.catalogueService.getSubProduits().subscribe(e=>this.produits=e)}ngOnDestroy(){this.ajouts.unsubscribe()}ajouter(e){console.log(e),this.store.dispatch(new d.sM(e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z),t.Y36(a.yh))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-catalogue"]],decls:18,vars:1,consts:[["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"routerLink"],[3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Catalogue"),t.qZA(),t._UZ(2,"app-recherche"),t.TgZ(3,"table"),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th",0),t._uU(7,"#"),t.qZA(),t.TgZ(8,"th",0),t._uU(9,"Nom"),t.qZA(),t.TgZ(10,"th",0),t._uU(11,"Cat\xe9gorie"),t.qZA(),t.TgZ(12,"th",0),t._uU(13,"Stock"),t.qZA(),t.TgZ(14,"th",0),t._uU(15,"Prix"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,q,18,8,"tr",1),t.qZA(),t.qZA()),2&e&&(t.xp6(17),t.Q6J("ngForOf",r.produits))},directives:[v,p.sg,m.yS],styles:[""]}),i})();var f=n(655),g=n(5694);function b(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"p"),t._uU(2),t.TgZ(3,"button",3),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().supprimer(u.produit)}),t._uU(4,"Supprimer"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().ajouter(u.produit)}),t._uU(6,"Ajouter"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.xp6(2),t.AsE("",e.produit.nom," ",e.stock," ")}}function U(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().transaction()}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.xp6(2),t.hij("Total \xe0 payer: ",e," \u20ac")}}class c{constructor(o){this.store=o}ngOnInit(){this.ajout=this.prix.subscribe(o=>this.total=o)}ngOnDestroy(){this.ajout.unsubscribe()}ajouter(o){this.store.dispatch(new d.sM(o))}supprimer(o){this.store.dispatch(new d.cx(o))}transaction(){this.ajout.unsubscribe(),this.store.dispatch(new d.Ln),console.log("Pay\xe9")}}function y(i,o){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.err)}}c.\u0275fac=function(o){return new(o||c)(t.Y36(a.yh))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-panier"]],decls:6,vars:6,consts:[["class","fs-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fs-3"],[3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"h1"),t._uU(1,"Panier"),t.qZA(),t.YNc(2,b,7,2,"div",0),t.ALo(3,"async"),t.YNc(4,U,3,1,"div",1),t.ALo(5,"async")),2&o&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,2,e.paniers)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,e.prix)))},directives:[p.sg,p.O5],pipes:[p.Ov],styles:[""]}),(0,f.gn)([(0,a.Ph)(g.O.getPrixTotalPanier)],c.prototype,"prix",void 0),(0,f.gn)([(0,a.Ph)(g.O.getPaniers)],c.prototype,"paniers",void 0),(0,f.gn)([(0,a.Ph)(g.O.getPaniersTaille)],c.prototype,"taille",void 0);const O=[{path:"catalogue",component:x},{path:"produit/:id",component:(()=>{class i{constructor(e,r,s){this.catalogueService=e,this.route=r,this.store=s;let u=this.catalogueService.getProduits().filter(h=>h.id==this.route.snapshot.params.id);u.length>0?this.prod=u[0]:this.err="Erreur! pas de produit avec cet id"}ngOnInit(){}ajouter(e){this.store.dispatch(new d.sM(e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z),t.Y36(m.gz),t.Y36(a.yh))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-element-detail"]],decls:15,vars:6,consts:[[4,"ngIf"],[3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div"),t.YNc(1,y,3,1,"div",0),t.TgZ(2,"div"),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"button",1),t.NdJ("click",function(){return r.ajouter(r.prod)}),t._uU(14,"Add to cart"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.err),t.xp6(3),t.hij("Produit ",r.prod.id,""),t.xp6(2),t.hij("Nom : ",r.prod.nom,""),t.xp6(2),t.hij("Categorie : ",r.prod.categorie,""),t.xp6(2),t.hij("Stock : ",r.prod.stock,""),t.xp6(2),t.hij("Prix : ",r.prod.prix," \u20ac"))},directives:[p.O5],styles:[""]}),i})()},{path:"panier",component:c}];let j=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,a.$l.forFeature([g.O]),l.u5,l.UX,m.Bz.forChild(O)]]}),i})()}}]);